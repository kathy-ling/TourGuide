<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8" />
		<title>预约讲解员</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" href="css/jquery.mobile-1.4.5.css">
		<link rel="stylesheet" type="text/css" href="css/nativedroid2.css">
		<link rel="stylesheet" href="css/jtsage-datebox-4.1.0.jqm.min.css">
		<link rel="stylesheet" type="text/css" href="css/GuideInfo.css">
		<link rel="stylesheet" type="text/css" href="css/mobiscroll.custom-2.5.0.min.css">
		<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>
		<script type="text/javascript" src="js/jquery.raty.min.js"></script>
		<script type="text/javascript" src="js/jtsage-datebox-4.1.0.jqm.min.js"></script>
		<script type="text/javascript" src="js/jtsage-datebox.i18n.zh-CN.utf8.min.js"></script>
		<script type="text/javascript" src="js/mobiscroll.core-2.5.2.js"></script>
		<script type="text/javascript" src="js/mobiscroll.datetime-2.5.1.js"></script>
		<script type="text/javascript" src="js/mobiscroll.core-2.5.2-zh.js"></script>
		<script type="text/javascript" src="js/jquery.cookie.js"></script>
		
		<script type="text/javascript">
			$(function() {
				$('input:jqmData(role="datebox")').mobiscroll().date();
				var now = new Date();
				var max = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 3);
				var min = new Date(now.getFullYear(), now.getMonth(), now.getDate());

				$("#orderDate").mobiscroll().date({
					theme: 'android-ics light',
					minDate: min,
					maxDate: max,
					lang: 'zh',
					dateFormat: 'yy-mm-dd'
				});
				$("#chooseDate").mobiscroll().date({
					theme: 'android-ics light',
					minDate: min,
					maxDate: max,
					lang: 'zh',
					dateFormat: 'yy-mm-dd'
				});
				
			});
		</script>
	</head>


	<body>

		<div data-role="page" id="OrderguidePage">
			<div data-role="panel" data-display="overlay" id="myPanel">
				<h2>筛选条件</h2>
				<form action="" method="">
					<table>
						<tbody>
							<tr>
								<td>性别:</td>
								<td>
									<fieldset data-role="controlgroup" data-type="horizontal">
										<label for="female">女</label>
										<input type="radio" data-mini="true" id="female" name="sex" value="女">
										<label for="male">男</label>
										<input type="radio" data-mini="true" id="male" name="sex" value="男">
									</fieldset>
								</td>
							</tr>
							<tr>
								<td>年龄:</td>
								<td>
									<fieldset data-role="controlgroup" data-type="horizontal">
										<label for="twtoth">20~30</label>
										<input id="twtoth" data-mini="true" type="radio" name="age" value="20-30">
										<label for="thtofu">30~40</label>
										<input id="thtofu" data-mini="true" type="radio" name="age" value="30-40">
										<label for="futofi">40~50</label>
										<input id="futofi" data-mini="true" type="radio" name="age" value="40-50">
									</fieldset>
								</td>
							</tr>
							<tr>
								<td>语种:</td>
								<td>
									<fieldset data-role="controlgroup" data-type="horizontal">
										<label for="chinese">中文</label>
										<input id="chinese" data-mini="true" type="radio" name="language" value="中文">
										<label for="english">英文</label>
										<input id="english" data-mini="true" type="radio" name="language" value="英文">
									</fieldset>
								</td>
							</tr>
							<tr>
								<td><label for="starlevel">星级:</label></td>
								<td><input id="starleve" type="range" name="starleve" value="1" min="1" max="7"></td>
							</tr>
							<tr>
								<td></td>
								<td><input type="button" data-rel="close" data-mini="true" id="selectAvailableGuides" value="确定"></td>
							</tr>
						</tbody>
					</table>
				</form>
			</div>

			<div data-role="header" id="header" data-position="fixed" class="header">
				<ul data-role="nd2tabs" data-swipe="true">
					<li data-tab="choose" data-tab-active="true">选择讲解员</li>
					<li data-tab="order">发布订单</li>
				</ul>
			</div>

			<div data-role="main" class="ui-content">
				<div data-role="nd2tab" data-tab="choose" id="chosePanel">
					<form action="chooseGuide_submit" method="get" accept-charset="utf-8">
						<div class="ui-field-contain">
							<div id="nameSelector">
							<label for="chooseDatetime" class="ui-hidden-accessible">景区名称</label>
							<select id="chooseScenicName" name="scenicName" >
								<option value="" selected="selected">请选择景区</option>
							</select>
							</div>
							<label for="orderDate" class="ui-hidden-accessible">日期</label>
							<input type="text" id="chooseDate" data-role="datebox" placeholder="请输入日期" >
							<label for="orderDatetime" class="ui-hidden-accessible">时间</label>
							<select id="orderDatetime123" name="datetime" value="" placeholder="时间" >
								<option>8:00</option>
								<option>8:30</option>
								<option>9:00</option>
								<option>9:30</option>
								<option>10:00</option>
								<option>10:30</option>
								<option>11:00</option>
								<option>11:30</option>
								<option>12:00</option>
								<option>12:30</option>
								<option>13:00</option>
								<option>13:30</option>
								<option>14:00</option>
								<option>14:30</option>
								<option>15:00</option>
								<option>15:30</option>
								<option>16:00</option>
								<option>16:30</option>
								<option>17:00</option>
								<option>17:30</option>
								<option>18:00</option>
							</select>
							<label for="chooseVisitNum" class="ui-hidden-accessible" ">人数</label>
							<input type="text" id="chooseVisitNum" name="VisitNum" value="" placeholder="人数" onblur="getAvailableGuides1()">
							<a href="#myPanel" class="ui-btn ui-btn-inline">筛选</a>
							<!--<button id="getAvailableGuides" class="ui-btn ui-btn-inline">查看推荐</button>-->
						</div>
					</form>
					<ul data-role="listview" data-inset="true" id="order_guide_ul">
						<li id="order_guide_li">
						</li>
					</ul>
				</div>
				
				<div data-role="nd2tab" data-tab="order">
					<form action="orderGuide_submit" method="get" accept-charset="utf-8">
						<div>
						<div id="nameSelector1">
							<label for="chooseDatetime" class="ui-hidden-accessible">景区名称</label>
							<select id="chooseScenicName1" name="scenicName">
								<option value="" selected="selected">请选择景区</option>
							</select>
						</div>
							<label for="orderDate" class="ui-hidden-accessible">日期</label>
							<input type="text" id="orderDate" data-role="datebox" placeholder="请输入日期">
							<label for="orderDatetime" class="ui-hidden-accessible">时间</label>
							<select id="orderDatetime" name="datetime" value="" placeholder="时间">
								<option>8:00</option>
								<option>8:30</option>
								<option>9:00</option>
								<option>9:30</option>
								<option>10:00</option>
								<option>10:30</option>
								<option>11:00</option>
								<option>11:30</option>
								<option>12:00</option>
								<option>12:30</option>
								<option>13:00</option>
								<option>13:30</option>
								<option>14:00</option>
								<option>14:30</option>
								<option>15:00</option>
								<option>15:30</option>
								<option>16:00</option>
								<option>16:30</option>
								<option>17:00</option>
								<option>17:30</option>
								<option>18:00</option>
							</select>
							<label for="visitorCount" class="ui-hidden-accessible">游客人数</label>
							<input type="number" id="visitorCount" name="visitorCount" value="" placeholder="参观人数">

							<table width="100%">
								<tbody>

									<tr>
										<td> <label for="guideLanguage">讲解语言：</label></td>
										<td>
											<select id="guideLanguage" data-mini="true" name="guideLanguage">
												<option value="中文">中文</option>
												<option value="英文">英文</option>
												<option value="其他">其他</option>
											</select>
										</td>
									</tr>

									<tr>
										<td>
											<legend>讲解员性别：</legend>
										</td>
										<td>
											<fieldset data-role="controlgroup" data-type="horizontal">
												<label for="guideFmale">女</label>
												<input type="radio" data-mini="true" id="guideFmale" name="guideSex" value="女" />
												<label for="guideMale">男</label>
												<input type="radio" data-mini="true" id="guideMale" name="guideSex" value="男" />
											</fieldset>
										</td>
									</tr>
								</tbody>
							</table>
							<legend>需要为您代购门票吗？</legend>
							<label for="orderTicketRadio">是，请为我代购门票</label>
							<input type="radio" id="orderTicketRadio" class="orderTicketRadio" name="orderTicket" value="1" class="" />
							<div data-role="collapsible" class="orderTicketPanel" data-collapsed="false" hidden="true">
								<label for="fullPriceTicketNum" class="ui-hidden-accessible">全价票</label>
								<input type="number" id="fullPriceTicketNum" name="fullPriceTicketNum" placeholder="全价票">
								<label for="halfPriceTicketNum" class="ui-hidden-accessible">半价票</label>
								<input type="number" id="halfPriceTicketNum" name="halfPriceTicketNum" placeholder="半价票">
								<label for="discountTicketNum" class="ui-hidden-accessible">折扣票</label>
								<input type="number" id="discountTicketNum" name="discountTicketNum" placeholder="折扣票">
							</div>
							<label for="notorderTicketRadio" value="0">否，不用了，谢谢</label>
							<input type="radio" id="notorderTicketRadio" class="notorderTicketRadio" name="orderTicket" value="0" class="" />
							</fieldset>
							<input id="orderM" type="number" placeholder="预期价格" />
							<label for="visitorPhone" class="ui-hidden-accessible">联系电话</label>
							<input type="tel" id="visitorPhone" name="visitorPhone" value="" placeholder="联系电话">
							<label for="visitorName" class="ui-hidden-accessible">姓名</label>
							<input type="text" id="visitorName" name="visitorName" value="" placeholder="您的姓名">
							<label for="otherRequest">其他需求</label>
							<textarea name="otherRequest" id="otherRequest"></textarea>
							<input id="submitOrderForm" data-theme="b" type="button" name="submit" value="提交订单">
						</div>
					</form>
				</div>
			</div>

			<script type="text/javascript" src="js/nativedroid2.js"></script>
			<script type="text/javascript">
			</script>
			<script type="text/javascript" src="js/nativedroid2.js"></script>
			<script type="text/javascript" src="js/OrderGuide.js"></script>
		</div>
		
		<!--是否代购门票对话框-->
		<div data-role="page" data-dialog="true" id="orderTicketPop">
			<div data-role="header">
				<h1>提示</h1>
			</div>
			<div data-role="content">
				<legend>需要为您代购门票吗？</legend>
				<label for="DirectorderTicket">是，请为我代购门票</label>
				<input type="radio" id="DirectorderTicket" class="orderTicketRadio" name="DirectorderTicket" value="1" class="" />
				<div data-role="collapsible" id="DirectorderTicketPanel" class="orderTicketPanel" data-collapsed="false" hidden="true">
					<label for="fullPriceTicketNum" class="ui-hidden-accessible">全价票</label>
					<input type="number" id="DirectfullPriceTicketNum" name="fullPriceTicketNum" placeholder="全价票">
					<label for="halfPriceTicketNum" class="ui-hidden-accessible">半价票</label>
					<input type="number" id="DirecthalfPriceTicketNum" name="halfPriceTicketNum" placeholder="半价票">
					<label for="discountTicketNum" class="ui-hidden-accessible">折扣票</label>
					<input type="number" id="DirectdiscountTicketNum" name="discountTicketNum" placeholder="半价票">
				</div>
				<label for="DirectnotorderTicketRadio" value="0">否，不用了，谢谢</label>
				<input type="radio" id="DirectnotorderTicketRadio" class="notorderTicketRadio" name="DirectorderTicket" value="0" class="" />
				<a class="ui-btn" data-theme="b" id="DirectorderTicketSub">确定</a>
			</div>
			<script type="text/javascript">
				$(".orderTicketRadio").bind('click', function(event) {
					$(".orderTicketPanel").toggle('200');
				});
				$(".notorderTicketRadio").bind('click', function(event) {
					$(".orderTicketPanel").hide('200');
				});
				$("#DirectorderTicketSub").click(function() {
					var phone = $(this).attr("phone");
					if(!phone) {
						alert("Error no PhoneNumber");
						return false;
					}
					var HalfPrice = 0;
					var DiscoutPrice = 0;
					var FullPrice = 0;
					var PurchaseTicket = $("input[name='DirectorderTicket']:checked").val();
					if(PurchaseTicket != null) {
						if(PurchaseTicket == 1) //购票
						{
							FullPrice = $("#DirectfullPriceTicketNum").val();
							HalfPrice = $("#DirecthalfPriceTicketNum").val();
							DiscoutPrice = $("#DirectdiscountTicketNum").val();
						}
						//$(".ui-page-active").dialog("close");
						URL = "orderFormPage.html?phone=" + phone + "&purchaseTicket=" + PurchaseTicket + "&halfPrice=" + HalfPrice + "&discoutPrice=" + DiscoutPrice + "&fullPrice=" + FullPrice;
						$.mobile.changePage(URL, {
							transition: "flow"
						});
						//window.location=URL;
					} else {
						alert("请选择是否代购门票！");
						return false;
					}
				});
			</script>
		</div>
	</body>

</html>